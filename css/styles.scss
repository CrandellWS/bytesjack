@import "utils";

// Mixins ---------------------------------------------
@mixin initCard ( $n, $increment, $value )
{
	@for $i from 0 through $n - 1 {
    &:nth-child(#{$i + 1}) {
      left : #{10 * $i * $value};
      @if   $increment == 1 { z-index: $i; }
      @else { z-index: $n + 1 - $i; }
    }
  }
}

// Utils ----------------------------------------------
* { margin: 0; padding: 0; }
body, html { width: 100%; height: 100%; }
.desactivate { opacity: 0.2; }

// Game -----------------------------------------------
#game {
  overflow: hidden;
  position: relative;
  width: 100%; height: 100%;
  
  #ui {
    position: absolute;
    top: 50%;
    clear: both;

    #deal {
      
      li {
        list-style-type: none;
        overflow: hidden;
        &:first-child { padding: 0 0 0 15px; }
      }
    }

    #actions { display: none; }
  }
  
  #player-cards, #dealer-cards {
    position: absolute;
    left: 50%;
    margin: 0 0 0 -25%;
    width: 100%; height: 460px;
    @include transition(all 200ms ease-out);
    
    .card {
      position: absolute;
      top: 0; left: 0;
      @include transition(all 250ms ease-in-out);
    }
  }
  
  #dealer-cards {
    top: -250px;
    
    //.card { @include initCard(10, -1, 1%); }
  }
  
  #player-cards {
    bottom: -250px;
    
    //.card { @include initCard(10, 1, 1%); }
  }
  
  #player-total, #dealer-total { font-size: 2em; }
}

// Chips ----------------------------------------------
.chip {
  cursor: pointer;
  float: left;
  margin: 0 10px 0 0;
	background-color: #c00;
	position: relative;
	width: 50px;
	height: 50px;
	border-radius: 50px;
	border: 5px dashed #fff;
	box-shadow: 0 0 0px #b00, 0 1px 0px #a00, 0 2px 0px #a00, 0 3px 0px #a00, 0 4px 0px #a00;
	
	-webkit-transform: perspective(500px) rotateX(45deg);
	
	span {
	  font-weight: bold;
		background-color: #d00;
		display: block;
		width: 100%;
		height: 100%;
		border-radius: 100%;
		color: #fff;
		font-size: 18px;
		line-height: 52px;
		text-align: center;
		
		text-shadow: 0 -2px 0px rgba(0,0,0,0.3);
	}
}

.chip.bet {
  box-shadow: 0 0 0px #b00, 0 1px 0px #a00, 0 2px 0px #a00, 0 3px 0px #a00, 0 4px 0px #a00, 0 0 15px #f00;
}

// Cards ----------------------------------------------
.card {
  font-size: 1.5em;
  position: relative;
  width: 300px; height: 460px;
  background-color: #f9f9f9;
  border-radius: 20px;
  @include box-shadow(0 0 5px rgba(0,0,15px,0.2));
  
  div {
    position: absolute;
    &:first-child { top: 2%; left: 5%; }
    &:last-child { bottom: 2%; right: 5%; -webkit-transform: rotate(180deg); }
    
    span {
      text-align: center;
      display: block;
    }
    
    .icons {
      position: absolute;
      top: 0; left: 0;
      width: 1px; height: 1px;
      
      & > div { position: relative; }
    }
  }
}

.card.back {
  background-color: #c00;
  background-image: -webkit-repeating-linear-gradient(-30deg, rgba(255, 255, 255, .1), rgba(255, 255, 255, .1) 1px, transparent 1px, transparent 60px), -webkit-repeating-linear-gradient(30deg, rgba(255, 255, 255, .1), rgba(255, 255, 255, .1) 1px, transparent 1px, transparent 60px), -webkit-linear-gradient(30deg, rgba(0, 0, 0, .1) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, .1) 75%, rgba(0, 0, 0, .1)), -webkit-linear-gradient(-30deg, rgba(0, 0, 0, .1) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, .1) 75%, rgba(0, 0, 0, .1));
  background-size: 12px 20px;
}

.card.hearts, .card.diamonds { color: #c00; }
.card.spades, .card.clubs { color: #111; }