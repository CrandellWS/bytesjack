@import "utils";

// Mixins ---------------------------------------------
@mixin initCard ( $n, $increment, $value )
{
	@for $i from 0 through $n - 1 {
    &:nth-child(#{$i + 1}) {
      left : #{10 * $i * $value};
      @if   $increment == 1 { z-index: $i; }
      @else { z-index: $n + 1 - $i; }
    }
  }
}

// Utils ----------------------------------------------
* { margin: 0; padding: 0; }
body, html { width: 100%; height: 100%; }
.desactivate { opacity: 0.2; }

// Game -----------------------------------------------
#game {
  background-color: #466d19;
  @include gradient-radial(#65981e, #184d08);
  overflow: hidden;
  position: relative;
  width: 100%; height: 100%;
  font: 400 13px/1.4 'futura-pt', Helvetica, Arial, sans-serif;
  
  #ui {
    position: absolute;
    top: 50%;
    left: 50%;
    margin-left: -25%;
    clear: both;

    #deal {
      
      li {
        list-style-type: none;
        &:first-child { padding: 0 0 0 15px; }
      }
    }

    #actions { display: none; }
  }
  
  #player-cards, #dealer-cards {
    position: absolute;
    left: 50%;
    //margin: 0 0 0 -25%;
    width: 100%; height: 460px;
    @include transition(all 200ms ease-out);
    
    .card {
      position: absolute;
      top: 0; left: 0;
      @include transition(all 250ms ease-in-out);
      @include box-shadow(0 1px 3px rgba(0,0,0,0.2));
    }
  }
  
  #dealer-cards {
    top: -250px;
    
    .card { @include initCard(10, -1, 1%); }
  }
  
  #player-cards {
    bottom: -250px;
    
    .card { @include initCard(10, 1, 1%); }
  }
  
  #player-total, #dealer-total { font-size: 2em; }
}

// Chips ----------------------------------------------
.chip {
  cursor: pointer;
  float: left;
  margin: 0 10px 0 0;
  padding: 4px;
	background-color: #007cff;
	position: relative;
	width: 100px;
	height: 100px;
	border-radius: 100%;
	border: 10px dashed #fff;
	@include box-shadow(#{0 0 0px #0263e6, 0 1px 0px #0263e6, 0 2px 0px #0263e6, 0 3px 0px #0263e6, 0 4px 0px #0263e6, 0 -1px 0px #01afff});
	@include noselect();
	
//  -webkit-transform: perspective(500px) rotateX(45deg); Only for wide wide screens?
	
	span {
		background-color: #0261f1;
		@include gradient-top-bottom(#037ff4, #0274f3);
		display: block;
		width: 100%;
		height: 100%;
		border-radius: 100%;
		color: #fff;
		font-size: 2em;
		line-height: 102px;
		text-align: center;
		
		text-shadow: 0 -1px 0px rgba(0,0,0,0.3);
		@include box-shadow(#{0 0 0 3px #0277f4, 0 -1px 0 3px #0265f1, 0 1px 0 3px #008dff, inset 0 1px 1px #0784ff, inset 0 -1px 0px #0261f1});
	}
}

.chip.bet {
//  box-shadow: 0 0 0px #b00, 0 1px 0px #a00, 0 2px 0px #a00, 0 3px 0px #a00, 0 4px 0px #a00, 0 0 15px #f00;
}

// Cards ----------------------------------------------
.card {
  font-size: 1.5em;
  position: relative;
  width: 300px; height: 460px;
  background-color: #f9f9f9;
  border-radius: 20px;
  @include box-shadow(0 0 5px rgba(0,0,15px,0.2));
  @include noselect();
  
  div {
    position: absolute;
    &:first-child { top: 2%; left: 5%; }
    &:last-child { bottom: 2%; right: 5%; @include rotate(180deg); }
    
    span {
      text-align: center;
      display: block;
    }
    
    .icons {
      position: absolute;
      top: 0; left: 0;
      width: 1px; height: 1px;
      
      & > div { position: relative; }
    }
  }
}

.card.back {
  background-color: #fd4000;
  background: #fd4000 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAKCAYAAACJxx+AAAAATElEQVQYGWP4/9XN+P///wy4MEQClyKgOEInuiIoH6EAZA1MEYwGiqEqQFYEdRcTAwFAUAGqFTC7YTSKG5AEwWEC5UNMQJeEOhDkKwDfGrdliFgHkAAAAABJRU5ErkJggg==);  
}

.card.hearts, .card.diamonds { color: #c00; }
.card.spades, .card.clubs { color: #111; }